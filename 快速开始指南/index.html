<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>快速开始指南 | 开发者中心</title>
  <meta name="author" content="集智数据">
  
  <meta name="description" content="快速开始指南集智数据简介集智数据提供弹性、快速的劳动力来解决机器无法完成的任务。透过我们的 API 接口，你可以用程序发布大量任务，快速得到你想要的结果，并且仅需要对你满意的结果付费。
集智数据有许多应用场景，只要该任务人能表现的比机器好，基本上你都能透过集智来提升现有的解决方案。常见的应用场景有：">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="快速开始指南"/>
  <meta property="og:site_name" content="开发者中心"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="开发者中心" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">  
  <link rel="stylesheet" href="/css/sidenav.css" media="screen" type="text/css">  
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-65157776-4']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';

var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>


</head>

<body id="body" data-spy="scroll" data-target=".toc">
  <div class="container" id="container">
	<div class="content">
	  <div class="page-header">		
  <h1><a class="brand" href="/">开发者中心</a><span class="split"></span><span class="title">快速开始指南</span></h1>
</div>		

<div class="row page">
  <!-- cols -->	
  
  <div class="col-xs-12 col-sm-3 col-md-3 toc"> 
	<!-- toc -->
<script type="text/javascript">
		jQuery(document).ready(function() {
 		   generateWikiTOC('.note', '.toc',  2 , 2 );
		});
</script>
  </div><!-- col-md-3 -->
  
  

  
  <div class="col-xs-12 col-sm-9 col-md-9 note">
	

	  <!-- content -->
	  <h1 id="快速开始指南">快速开始指南</h1><h2 id="集智数据简介">集智数据简介</h2><p>集智数据提供弹性、快速的劳动力来解决机器无法完成的任务。透过我们的 API 接口，你可以用程序发布大量任务，快速得到你想要的结果，并且仅需要对你满意的结果付费。</p>
<p>集智数据有许多应用场景，只要该任务人能表现的比机器好，基本上你都能透过集智来提升现有的解决方案。常见的应用场景有：</p>
<ul>
<li><strong>图像标注</strong>：由人来识别图像中的物件。</li>
<li><strong>信息收集</strong>：在网站中取得电话、邮箱等联系资讯。</li>
<li><strong>软文写作</strong>：为电影、餐厅、店家、或商品写评论。</li>
<li><strong>情感分析</strong>：判断文本内容所表达的情绪。</li>
</ul>
<h2 id="基本概念">基本概念</h2><h4 id="请求者_(Requester)">请求者 (Requester)</h4><p>请求者指的是在集智数据的平台上发布任务的企业或个人。集智的 API 接口让请求者可以用程序来发布大量任务，得到并验证结果。请求者可以在其他应用中结合集智的劳动力，让应用做到机器无法单独完成的任务。</p>
<h4 id="集智任务_(Job)">集智任务 (Job)</h4><p>集智任务是指请求者提交到平台上给工作者完成的任务。请求者可以在任务中嵌入自己的网页，或在 http request 中定义任务由我们的网站呈现。请求者可以设定希望多少不同的工作者来完成集智任务，该任务有多少酬劳，以及任务多久会失效，详情请见<a href="/发布任务">发布集智任务的 API 文档</a>。</p>
<h4 id="工作者_(Contributor)">工作者 (Contributor)</h4><p>工作者是指在平台上做集智任务的用户。工作者在平台上寻找自己感兴趣的任务，接受任务后提交结果给请求者审核。</p>
<h4 id="指定工作_(Task)">指定工作 (Task)</h4><p>当工作者接受集智任务后，系统会分配给该工作者针对该任务的一个指定工作。这个指定工作仅属于接受任务的工作者，只有该工作者可以提交结果及获得报酬。请求者可以根据这个指定工作，追踪工作者的进度以及取得工作的结果。因为一个集智任务可能有超过一个工作者来完成，所以一个集智任务可能对应多个指定工作。</p>
<h4 id="酬劳_(Reward)">酬劳 (Reward)</h4><p>当请求者决定接受工作者所提交的结果，请求者会付给工作者酬劳。酬劳的金额在请求者发布集智任务时设定。</p>
<h2 id="开始之前">开始之前</h2><h4 id="创建请求者账户">创建请求者账户</h4><p>在能够发布任务之前，请求者必须在集智数据建立一个请求者账户，流程如下：</p>
<ol>
<li>到 <a href="https://account.crowdsdom.com" target="_blank" rel="external">https://account.crowdsdom.com</a></li>
<li>填写用户名、邮箱与密码</li>
<li>根据指示完成邮箱验证</li>
</ol>
<h4 id="API_密钥_(API_key_&amp;_API_secret)">API 密钥 (API key &amp; API secret)</h4><p>完成注册后登入系统，便能查看有关 API 密钥的相关信息（见下图）：</p>
<p>API 密钥可以视为你使用 API 时的用户名与密码，在与 API 接口交互前你必须使用这些资讯来换取访问令牌 (access token)。因此，请妥善保存你的 API 密钥，并且不要随便将 API 密钥泄露给别人。当使用这些密钥之后，你就有权限向我们的API服务器 做各种请求，下面的例子会有更详细的介绍。</p>
<h4 id="开发测试环境_(Sandbox)">开发测试环境 (Sandbox)</h4><p>在实际发布任务之前，你可以先在开发测试环境下测试。<a href="https://account.sandbox.crowdsdom.com/" target="_blank" rel="external">https://account.sandbox.crowdsdom.com/</a> 是实际网站的一个镜像。你可以在这个网站上注册一个开发者账号，并透过这个网站上的密钥向测试环境的API服务器请求，如此你所发布的任务不会让平台上的工作者直接看到，你的账户也不会被扣款。你可以再注册一个工作者账号登录，搜索你的任务，查看你的任务是否如你所想象的呈现。</p>
<p>(请注意，在开发测试环境中的API请求都需要将接口变换至 <code>http://api.sandbox.crowdsdom.com</code>)</p>
<h4 id="支付宝充值">支付宝充值</h4><!--
当你在开发测试环境中充分测试了你的任务后，你便可以准备在实际的平台上发布任务。但不像在开发测试环境中，当你用真正的 API key 与 API secret
-->
<p>当你发布任务的时候，系统会从你的账户中预扣该任务所需的金额。若你账户的余额不足，你便没有办法发布任务。如果你是我们一开始邀请的内测用户，你将会得到￥1000的体验额度，当你将这些额度用完之后，你就需要使用支付宝充值。充值的过程相当简易，与线上购买商品的流程类似。当你完成付款后，系统便会增加你账户中的余额。</p>
<h4 id="安装开发者工具_(SDK）">安装开发者工具 (SDK）</h4><p>为了让你更方便的与我们的 API 接口交互，我们也提供了数个开发者工具，你可以选择合适的开发工具与你的专案结合。</p>
<ul>
<li><p>Python: <a href="https://github.com/crowdsdom/python-SDK" target="_blank" rel="external">https://github.com/crowdsdom/python-SDK</a></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> jizhi</span><br></pre></td></tr></table></figure>
</li>
<li><p>PHP: <a href="https://github.com/crowdsdom/php-sdk" target="_blank" rel="external">https://github.com/crowdsdom/php-sdk</a></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https:<span class="comment">//getcomposer.org/installer | php</span></span><br><span class="line">php composer<span class="class">.phar</span> require crowdsdom/php-sdk</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="任务流程">任务流程</h2><p>完成注册后，仅需简单四个步骤，你就可以在我们的平台上发布专属的集智任务，让全国各地的工作者帮你完成任务。</p>
<ol>
<li><p><strong>身份验证</strong>：透过 API 密钥取得访问令牌 (access token)，在接下来的 http request 都需要附上访问令牌的 id 来验证你的身份。</p>
</li>
<li><p><strong>发布任务</strong>：向系统提交发布任务的 http request，在 request 描述你的任务，需要多少工作者，以及相应的报酬。</p>
</li>
<li><p><strong>取得任务的工作</strong>：在发布任务后，根据任务的 id 以 http request 取得跟该任务相关的工作结果。</p>
</li>
<li><p><strong>接受/拒绝工作</strong>：在取得任务的工作结果后，请求者可以判断对工作结果是否满意。满意的话，可以接受该工作并付款。如果不满意的话可以拒绝该工作，系统会重新让别的工作者接受。</p>
</li>
</ol>
<p>接下来我们将会介绍如何用 http request 及开发者工具在集智上完成任务。</p>
<h2 id="身份验证">身份验证</h2><p>在使用我们的 API 之前，你必须用<a href="/身份验证">身份验证的 API</a> 取得访问令牌 (access token)。身份验证能让我们确保使用 API 的用户为本人，避免别人盗用你的账号。</p>
<h3 id="Python_直接调用">Python 直接调用</h3><p>在这里，我们示范怎么透过 <a href="http://www.python-requests.org/en/latest/" target="_blank" rel="external">Python requests</a> 直接向身份验证的API接口发送请求。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">API_URL = <span class="string">"https://account.crowdsdom.com/oauth/token"</span></span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>&#125;</span><br><span class="line"></span><br><span class="line">data = json.dumps(&#123;<span class="string">"grant_type"</span>: <span class="string">"client_credentials"</span>&#125;)</span><br><span class="line"></span><br><span class="line">auth = (<span class="string">"YOUR_API_KEY"</span>,<span class="string">"YOUR_API_SECRET"</span>)</span><br><span class="line"></span><br><span class="line">response = requests.post(API_URL, headers=headers, data=data, auth=auth)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> json.dumps(response.json(), indent=<span class="number">2</span>, ensure_ascii=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#&#123;</span></span><br><span class="line"><span class="comment">#  "access_token": &#123;</span></span><br><span class="line"><span class="comment">#    "created": "2015-09-23T08:16:08.456Z",</span></span><br><span class="line"><span class="comment">#    "userId": "55fffdbc220c681700f5eaca",</span></span><br><span class="line"><span class="comment">#    "id": "SynbNS5BY7v0nxyEWR6m8Nq5A1xB9cL7ewIhgBCuiNkSCuvZSjpSYMzfDc634bw6",</span></span><br><span class="line"><span class="comment">#    "clientId": "d83859fbe3306fe2f91876fe0acde3ed",</span></span><br><span class="line"><span class="comment">#    "ttl": 1800</span></span><br><span class="line"><span class="comment">#  &#125;,</span></span><br><span class="line"><span class="comment">#  "token_type": "Bearer"</span></span><br><span class="line"><span class="comment">#&#125;</span></span><br><span class="line"><span class="comment">#####</span></span><br></pre></td></tr></table></figure>
<h3 id="PHP_SDK">PHP SDK</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Crowdsdom</span>\<span class="title">Crowdsdom</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$apiKey</span> = <span class="string">'[YOUR API KEY]'</span>;</span><br><span class="line"><span class="variable">$apiSecret</span> = <span class="string">'[YOUR API SECRET]'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$crowdsdom</span> = <span class="keyword">new</span> Crowdsdom(<span class="variable">$apiKey</span>, <span class="variable">$apiSecret</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Python_SDK">Python SDK</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> jizhi <span class="keyword">import</span> Client</span><br><span class="line"></span><br><span class="line">APP_KEY = <span class="string">'YOUR_API_KEY'</span></span><br><span class="line">APP_SECRET = <span class="string">'YOUR_API_SECRET'</span></span><br><span class="line"></span><br><span class="line">c = Client(APP_KEY, APP_SECRET)</span><br><span class="line">access_token = c.get_access_token()</span><br><span class="line">print(<span class="string">'access_token: %s'</span> % access_token)</span><br><span class="line"></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#access_token: SynbNS5BY7v0nxyEWR6m8Nq5A1xB9cL7ewIhgBCuiNkSCuvZSjpSYMzfDc634bw6</span></span><br><span class="line"><span class="comment">#####</span></span><br></pre></td></tr></table></figure>
<h2 id="发布任务">发布任务</h2><p>下面我们将会用一个案例示范如何用API接口或开发者工具来发布任务。</p>
<p>在这里我们假设请求者要发布一个简单的文本分析任务。</p>
<p>判断下面这段话所表达的情绪是正面、负面、还是中性：</p>
<p class="text-primary">“黄山温泉太啃外地人了一张票298而本地人却58太不合理了！”</p>
<p>在本质上，请求者透过 RESTful API request 与我们的系统交互。在发布集智任务的请求中必须附上访问令牌，以及任务的设定及内容。以下我们将示范如何用 API 接口及开发者工具发布范例任务，请在<a href="/发布任务">这里</a>查看详细的 API 文档。</p>
<h3 id="Python_直接调用-1">Python 直接调用</h3><p>在这里，我们示范怎么透过 <a href="http://www.python-requests.org/en/latest/" target="_blank" rel="external">Python requests</a> 直接向发布任务的API接口发送请求。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">API_URL = <span class="string">"https://api.crowdsdom.com/v1/jobs"</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">            <span class="string">"Authorization"</span>: <span class="string">"YOUR_ACCESS_TOKEN"</span>,</span><br><span class="line">            <span class="string">"Content-Type"</span>: <span class="string">"application/json"</span>&#125;</span><br><span class="line"></span><br><span class="line">job_settings = &#123;</span><br><span class="line">                 <span class="string">"title"</span>:<span class="string">"微博情感分析"</span>,</span><br><span class="line">                 <span class="string">"description"</span>:<span class="string">"判断博文中所表达的情绪"</span>,</span><br><span class="line">                 <span class="string">"keywords"</span>: [<span class="string">"情感分析"</span>,<span class="string">"微博"</span>],</span><br><span class="line">                 <span class="string">"questionsType"</span>:<span class="string">"internalQuestionsForm"</span>,</span><br><span class="line">                 <span class="string">"internalQuestionsForm"</span>: &#123;</span><br><span class="line">                    <span class="string">"questions"</span>: [&#123;</span><br><span class="line">                      <span class="string">"id"</span>:<span class="string">"sentiment"</span>,</span><br><span class="line">                      <span class="string">"title"</span>:<span class="string">"黄山温泉太啃外地人了一张票298而本地人却58太不合理了！"</span>,</span><br><span class="line">                      <span class="string">"isRequired"</span>: <span class="keyword">True</span>,</span><br><span class="line">                      <span class="string">"answerType"</span>: <span class="string">"selectionAnswer"</span>,</span><br><span class="line">                      <span class="string">"selectionAnswerSpec"</span>: &#123;</span><br><span class="line">                        <span class="string">"minSelectionCount"</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="string">"maxSelectionCount"</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="string">"style"</span>: <span class="string">"radiobutton"</span>,</span><br><span class="line">                        <span class="string">"optionSpecs"</span>: [</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"positive"</span>,<span class="string">"text"</span>:<span class="string">"正面"</span>&#125;,</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"negative"</span>,<span class="string">"text"</span>:<span class="string">"负面"</span>&#125;,</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"neutral"</span>,<span class="string">"text"</span>:<span class="string">"中性"</span>&#125;</span><br><span class="line">                        ]               </span><br><span class="line">                      &#125;</span><br><span class="line">                    &#125;]</span><br><span class="line">                  &#125;,</span><br><span class="line">                  <span class="string">"reward"</span>: &#123;<span class="string">"amount"</span>: <span class="number">0.1</span>, <span class="string">"currencyCode"</span>: <span class="string">"CNY"</span>&#125;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">data = json.dumps(job_settings)</span><br><span class="line"></span><br><span class="line">response = requests.post(API_URL, headers=headers, data=data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> json.dumps(response.json(), indent=<span class="number">2</span>, ensure_ascii=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#系统将回复根据集智任务的数据结构返回一个物件，详细的数据结构请见集智任务的数据结构文档。</span></span><br><span class="line"><span class="comment">#####</span></span><br></pre></td></tr></table></figure>
<h3 id="PHP_SDK-1">PHP SDK</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Crowdsdom</span>\<span class="title">Crowdsdom</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$apiKey</span> = <span class="string">'[YOUR API KEY]'</span>;</span><br><span class="line"><span class="variable">$apiSecret</span> = <span class="string">'[YOUR API SECRET]'</span>;</span><br><span class="line"><span class="variable">$jobSettings</span> = [                                                                                                                                                                                                </span><br><span class="line">    <span class="string">'title'</span> =&gt; <span class="string">'微博情感分析'</span>,</span><br><span class="line">    <span class="string">'description'</span> =&gt; <span class="string">'判断博文中所表达的情绪'</span>,</span><br><span class="line">    <span class="string">'keywords'</span> =&gt;</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'情感分析'</span>,</span><br><span class="line">        <span class="string">'微博'</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">'questionsType'</span> =&gt; <span class="string">'internalQuestionsForm'</span>,</span><br><span class="line">    <span class="string">'internalQuestionsForm'</span> =&gt;</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'questions'</span> =&gt;</span><br><span class="line">        [</span><br><span class="line">            [</span><br><span class="line">                <span class="string">'id'</span> =&gt; <span class="string">'sentiment'</span>,</span><br><span class="line">                <span class="string">'title'</span> =&gt; <span class="string">'黄山温泉太啃外地人了一张票298而本地人却58太不合理了！'</span>,</span><br><span class="line">                <span class="string">'isRequired'</span> =&gt; <span class="keyword">true</span>,</span><br><span class="line">                <span class="string">'answerType'</span> =&gt; <span class="string">'selectionAnswer'</span>,</span><br><span class="line">                <span class="string">'selectionAnswerSpec'</span> =&gt;</span><br><span class="line">                [</span><br><span class="line">                    <span class="string">'minSelectionCount'</span> =&gt; <span class="number">1</span>,</span><br><span class="line">                    <span class="string">'maxSelectionCount'</span> =&gt; <span class="number">1</span>,</span><br><span class="line">                    <span class="string">'style'</span> =&gt; <span class="string">'radiobutton'</span>,</span><br><span class="line">                    <span class="string">'optionSpecs'</span> =&gt;</span><br><span class="line">                    [</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">'id'</span> =&gt; <span class="string">'positive'</span>,</span><br><span class="line">                            <span class="string">'text'</span> =&gt; <span class="string">'正面'</span>,</span><br><span class="line">                        ],</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">'id'</span> =&gt; <span class="string">'negative'</span>,</span><br><span class="line">                            <span class="string">'text'</span> =&gt; <span class="string">'负面'</span>,</span><br><span class="line">                        ],</span><br><span class="line">                        [</span><br><span class="line">                            <span class="string">'id'</span> =&gt; <span class="string">'neutral'</span>,</span><br><span class="line">                            <span class="string">'text'</span> =&gt; <span class="string">'中性'</span>,</span><br><span class="line">                        ],</span><br><span class="line">                    ],</span><br><span class="line">                ],</span><br><span class="line">            ],</span><br><span class="line">        ],</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">'reward'</span> =&gt;</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'amount'</span> =&gt; <span class="number">0.1</span>,</span><br><span class="line">        <span class="string">'currencyCode'</span> =&gt; <span class="string">'CNY'</span>,</span><br><span class="line">    ],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="variable">$crowdsdom</span> = <span class="keyword">new</span> Crowdsdom(<span class="variable">$apiKey</span>, <span class="variable">$apiSecret</span>);</span><br><span class="line"><span class="variable">$labor</span> = <span class="variable">$crowdsdom</span>-&gt;labor();</span><br><span class="line"><span class="variable">$labor</span>-&gt;job()-&gt;create(<span class="variable">$jobSettings</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Python_SDK-1">Python SDK</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> jizhi <span class="keyword">import</span> POST, Client</span><br><span class="line"></span><br><span class="line">APP_KEY = <span class="string">'YOUR_API_KEY'</span></span><br><span class="line">APP_SECRET = <span class="string">'YOUR_API_SECRET'</span></span><br><span class="line"></span><br><span class="line">c = Client(APP_KEY, APP_SECRET)</span><br><span class="line">c.set_access_token(<span class="string">"YOUR_ACCESS_TOKEN"</span>)</span><br><span class="line"></span><br><span class="line">job_settings = &#123;</span><br><span class="line">                 <span class="string">"title"</span>:<span class="string">"微博情感分析"</span>,</span><br><span class="line">                 <span class="string">"description"</span>:<span class="string">"判断博文中所表达的情绪"</span>,</span><br><span class="line">                 <span class="string">"keywords"</span>: [<span class="string">"情感分析"</span>,<span class="string">"微博"</span>],</span><br><span class="line">                 <span class="string">"questionsType"</span>:<span class="string">"internalQuestionsForm"</span>,</span><br><span class="line">                 <span class="string">"internalQuestionsForm"</span>: &#123;</span><br><span class="line">                    <span class="string">"questions"</span>: [&#123;</span><br><span class="line">                      <span class="string">"id"</span>:<span class="string">"sentiment"</span>,</span><br><span class="line">                      <span class="string">"title"</span>:<span class="string">"黄山温泉太啃外地人了一张票298而本地人却58太不合理了！"</span>,</span><br><span class="line">                      <span class="string">"isRequired"</span>: <span class="keyword">True</span>,</span><br><span class="line">                      <span class="string">"answerType"</span>: <span class="string">"selectionAnswer"</span>,</span><br><span class="line">                      <span class="string">"selectionAnswerSpec"</span>: &#123;</span><br><span class="line">                        <span class="string">"minSelectionCount"</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="string">"maxSelectionCount"</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="string">"style"</span>: <span class="string">"radiobutton"</span>,</span><br><span class="line">                        <span class="string">"optionSpecs"</span>: [</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"positive"</span>,<span class="string">"text"</span>:<span class="string">"正面"</span>&#125;,</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"negative"</span>,<span class="string">"text"</span>:<span class="string">"负面"</span>&#125;,</span><br><span class="line">                          &#123;<span class="string">"id"</span>:<span class="string">"neutral"</span>,<span class="string">"text"</span>:<span class="string">"中性"</span>&#125;</span><br><span class="line">                        ]               </span><br><span class="line">                      &#125;</span><br><span class="line">                    &#125;]</span><br><span class="line">                  &#125;,</span><br><span class="line">                  <span class="string">"reward"</span>: &#123;<span class="string">"amount"</span>: <span class="number">0.1</span>, <span class="string">"currencyCode"</span>: <span class="string">"CNY"</span>&#125;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">Jobs = c[<span class="string">'Jobs'</span>]</span><br><span class="line">job = POST(Jobs, body=job_settings)</span><br><span class="line">print(<span class="string">'job:'</span>, job)</span><br></pre></td></tr></table></figure>
<h2 id="得到工作结果">得到工作结果</h2><p>发布任务之后，平台上的工作者便可以接受你的任务并完成工作。你可以根据发布任务的 id，透过 API 接口查看得到工作者对该任务所提供的结果。假设我们刚刚发布的任务之 id 为 <code>507f191e810c19729de860ea</code>，有一个工作者已提交答案，则透过 API 及开发者工具取得工作结果的范例如下，：</p>
<h3 id="Python_直接调用-2">Python 直接调用</h3><p>在这里，我们示范怎么透过 <a href="http://www.python-requests.org/en/latest/" target="_blank" rel="external">Python requests</a> 直接向取得任务工作结果的API接口发送请求。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">API_URL = <span class="string">'https://api.crowdsdom.com/v1/jobs/507f191e810c19729de860ea/tasks'</span></span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">'Authorization'</span>: <span class="string">'YOUR_ACCESS_TOKEN'</span>&#125;</span><br><span class="line"></span><br><span class="line">response = requests.get(API_URL, headers=headers)</span><br><span class="line"><span class="keyword">print</span> json.dumps(response.json(), indent=<span class="number">2</span>, ensure_ascii=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment">#[</span></span><br><span class="line"><span class="comment">#  &#123;</span></span><br><span class="line"><span class="comment">#    id: '507f191e810c19729devxbbx',</span></span><br><span class="line"><span class="comment">#    status: 'submitted',</span></span><br><span class="line"><span class="comment">#    answers: [</span></span><br><span class="line"><span class="comment">#      &#123;</span></span><br><span class="line"><span class="comment">#        questionId: 'sentiment',</span></span><br><span class="line"><span class="comment">#        answer: ['negative']</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#      &#125;</span></span><br><span class="line"><span class="comment">#    ],</span></span><br><span class="line"><span class="comment">#    jobId: '507f191e810c19729de860ea',</span></span><br><span class="line"><span class="comment">#    contributorId: '507f191e810c19729de8adfaf'</span></span><br><span class="line"><span class="comment">#  &#125;</span></span><br><span class="line"><span class="comment">#]</span></span><br><span class="line"><span class="comment">#####</span></span><br></pre></td></tr></table></figure>
<h3 id="PHP_SDK-2">PHP SDK</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Crowdsdom</span>\<span class="title">Crowdsdom</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$apiKey</span> = <span class="string">'[YOUR API KEY]'</span>;</span><br><span class="line"><span class="variable">$apiSecret</span> = <span class="string">'[YOUR API SECRET]'</span>;</span><br><span class="line"><span class="variable">$jobId</span> = <span class="string">'507f191e810c19729devxbbx'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$crowdsdom</span> = <span class="keyword">new</span> Crowdsdom(<span class="variable">$apiKey</span>, <span class="variable">$apiSecret</span>);</span><br><span class="line"><span class="variable">$labor</span> = <span class="variable">$crowdsdom</span>-&gt;labor();</span><br><span class="line"><span class="variable">$tasks</span> = <span class="variable">$labor</span>-&gt;job()-&gt;tasks(<span class="variable">$jobId</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Python_SDK-2">Python SDK</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> jizhi <span class="keyword">import</span> GET, Client</span><br><span class="line"></span><br><span class="line">APP_KEY = <span class="string">'YOUR_API_KEY'</span></span><br><span class="line">APP_SECRET = <span class="string">'YOUR_API_SECRET'</span></span><br><span class="line"></span><br><span class="line">c = Client(APP_KEY, APP_SECRET)</span><br><span class="line">c.set_access_token(<span class="string">"YOUR_ACCESS_TOKEN"</span>)</span><br><span class="line"></span><br><span class="line">Jobs = c[<span class="string">'Jobs'</span>]</span><br><span class="line">job_id = <span class="string">'507f191e810c19729devxbbx'</span></span><br><span class="line">tasks = GET(Jobs[job_id].tasks)</span><br><span class="line">print(tasks)</span><br></pre></td></tr></table></figure>
<h2 id="批准工作">批准工作</h2><p>在获得工作结果后，如果你对结果满意，你可以该工作的 id 依照下面的示例透过 API 或开发者工具批准该工作(<a href="/批准指定工作">文档</a>)。你批准工作后，用户能得到你在发布任务时指定的报酬。相对的，如果你对工作的结果不满，你也可以选择拒绝工作(<a href="/拒绝指定工作">文档</a>)。在你拒绝该工作后，工作者不会得到报酬，系统会将任务重新发布给其他人接受。</p>
<h3 id="Python_直接调用-3">Python 直接调用</h3><p>在这里，我们示范怎么透过 <a href="http://www.python-requests.org/en/latest/" target="_blank" rel="external">Python requests</a> 直接向取得批准工作的API接口发送请求。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">API_URL = <span class="string">'https://api.crowdsdom.com/v1/tasks/507f191e810c19729devxbbx/approve'</span></span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">'Authorization'</span>: <span class="string">'YOUR_ACCESS_TOKEN'</span>&#125;</span><br><span class="line"></span><br><span class="line">response = requests.post(API_URL, headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> json.dumps(response.json(), indent=<span class="number">2</span>, ensure_ascii=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<h3 id="PHP_SDK-3">PHP SDK</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Crowdsdom</span>\<span class="title">Crowdsdom</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$apiKey</span> = <span class="string">'[YOUR API KEY]'</span>;</span><br><span class="line"><span class="variable">$apiSecret</span> = <span class="string">'[YOUR API SECRET]'</span>;</span><br><span class="line"><span class="variable">$taskId</span> = <span class="string">'507f191e810c19729devxbbx'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$crowdsdom</span> = <span class="keyword">new</span> Crowdsdom(<span class="variable">$apiKey</span>, <span class="variable">$apiSecret</span>);</span><br><span class="line"><span class="variable">$labor</span> = <span class="variable">$crowdsdom</span>-&gt;labor();</span><br><span class="line"><span class="variable">$labor</span>-&gt;task()-&gt;approve(<span class="variable">$taskId</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Python_SDK-3">Python SDK</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> jizhi <span class="keyword">import</span> POST, Client</span><br><span class="line"></span><br><span class="line">APP_KEY = <span class="string">'YOUR_API_KEY'</span></span><br><span class="line">APP_SECRET = <span class="string">'YOUR_API_SECRET'</span></span><br><span class="line"></span><br><span class="line">c = Client(APP_KEY, APP_SECRET)</span><br><span class="line">c.set_access_token(<span class="string">"YOUR_ACCESS_TOKEN"</span>)</span><br><span class="line"></span><br><span class="line">Tasks = c[<span class="string">'Tasks'</span>]</span><br><span class="line">task_id = <span class="string">'507f191e810c19729devxbbx'</span></span><br><span class="line">result = POST(Tasks[task_id].approve)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<h2 id="大功告成">大功告成</h2><p>恭喜！你已经学会如何发布集智任务及获取工作者的工作结果，现在你可以透过集智建立自己独特的应用。为了让你更方便的开始使用我们的服务，现在注册就可得到￥1000的免费额度。如果想了解更多有关 API 接口的更多细节，请看详细的 <a href="/">API 文档</a>。</p>
	  

    <hr/>
    <div class="ds-thread" data-thread-key="cih8qu97y000eregj0l5m7fd7" data-title="快速开始指南"
data-url="快速开始指南/index.html"></div>


	  <div>
  		<center>
		  <div class="pagination">
<ul class="pagination">
	
	
	
	
	
		
	
		
	
		
	
		
			
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
	
		<li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>prev</a></li>
	
	<li><a href="/"><i class="fa fa-archive"></i>Home</a></li>
	
		<li class="next disabled"><a>next<i class="fa fa-arrow-circle-o-right"></i></a></li>
	
</ul>
</div>

		</center>
	  </div>
	  
	</div> <!-- col-md-9/col-md-12 -->
	
  </div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
	<footer> <p>
  &copy; 2015 集智数据
      
</p> </footer>
  </div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.tableofcontents.min.js"></script>
<script src="/js/tocgenerator.min.js"></script>
<script src="/js/main.js"></script>




<script type="text/javascript">
var duoshuoQuery = {short_name:"undefined"};
(function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
 })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
